<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AJAX Blog</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <style>
        *{
            font-family: "Comic Sans MS", sans-serif;
        }
    </style>
</head>
<body class="bg-info">
<h1 class="text-center mt-4">Raymond's Blog</h1>
<div id="posts" class="container d-flex justify-content-center flex-wrap"></div>
<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script>
    $().ready(function (){

        function catToUpper(blogCat){
            let categoriesFixed = [];
            blogCat.forEach(function (cat) {
                categoriesFixed.push(cat.charAt(0).toUpperCase() + cat.slice(1))
            })
            return categoriesFixed.join(', ')
        }

        function createHTML(blog) {
            return `<div class="card bg-transparent mt-3 mx-2 w-75">
                                   <div class="card-header bg-dark text-white">${blog.title}</div>
                                   <div class="card-body bg-light">${blog.content}</div>
                                   <div class="card-footer bg-secondary d-flex justify-content-between text-white">
                                    <div>${catToUpper(blog.categories)}</div>
                                    <div>${blog.date}</div>
                                   </div>`
        }

        $.ajax('data/blog.json').done(function (blogs){
           blogs.forEach(function (blog){
               $('#posts').append(createHTML(blog))
           })
        })
    })
</script>
</body>
</html>
